# ğŸ¯ è…¾è®¯æ–‡æ¡£è‡ªåŠ¨åŒ–ç™»å½•æˆåŠŸæŒ‡å— - å®Œæ•´æŠ€æœ¯æ–‡æ¡£

## ğŸ“Œ æ¦‚è¿°
æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†å¦‚ä½•æˆåŠŸå®ç°è…¾è®¯æ–‡æ¡£çš„Cookieè‡ªåŠ¨åŒ–ç™»å½•ï¼ŒåŒ…æ‹¬é—®é¢˜è¯Šæ–­ã€è§£å†³æ€è·¯ã€æˆåŠŸä»£ç å®ç°ä»¥åŠå…³é”®æŠ€æœ¯è¦ç‚¹ã€‚

---

## ğŸ” é—®é¢˜è¯Šæ–­ä¸å­¦ä¹ è¿‡ç¨‹

### 1. åˆå§‹é—®é¢˜è¯†åˆ«
æœ€åˆçš„ç™»å½•å¤±è´¥è¡¨ç°ä¸ºï¼š
- é¡µé¢é‡æ–°åŠ è½½è¶…æ—¶ï¼ˆTimeout 60000ms exceededï¼‰
- CookieéªŒè¯å¤±è´¥ï¼Œä»æ˜¾ç¤ºæœªç™»å½•çŠ¶æ€
- æ— æ³•æ‰¾åˆ°å¯¼å…¥æŒ‰é’®ç­‰å·²ç™»å½•ç”¨æˆ·æ‰èƒ½çœ‹åˆ°çš„å…ƒç´ 

### 2. å­¦ä¹ æ–¹æ³• - å¯¹æ ‡æˆåŠŸé¡¹ç›®
å…³é”®è½¬æŠ˜ç‚¹ï¼š**æ·±å…¥ç ”ç©¶ `enterprise_download_system` é¡¹ç›®çš„æˆåŠŸç»éªŒ**

å­¦ä¹ æ­¥éª¤ï¼š
1. æŸ¥æ‰¾ç±»ä¼¼æˆåŠŸé¡¹ç›®çš„å®ç°
2. å¯¹æ¯”åˆ†æå·®å¼‚ç‚¹
3. æå–å…³é”®æˆåŠŸå› ç´ 
4. é€æ­¥åº”ç”¨å¹¶éªŒè¯

### 3. å‘ç°çš„å…³é”®å·®å¼‚

| æ–¹é¢ | é”™è¯¯æ–¹æ³•ï¼ˆåŸå§‹ï¼‰ | æ­£ç¡®æ–¹æ³•ï¼ˆå­¦ä¹ åï¼‰ | å½±å“ |
|------|-----------------|-------------------|------|
| Cookieåˆ†å‰² | `split(';')` | `split('; ')` | Cookieå€¼åŒ…å«å‰å¯¼ç©ºæ ¼å¯¼è‡´è§£æé”™è¯¯ |
| CookieåŸŸ | å¤šä¸ªåŸŸ `['.qq.com', '.docs.qq.com']` | å•ä¸€åŸŸ `'.docs.qq.com'` | å‡å°‘ä¸å¿…è¦çš„Cookieé‡å¤ |
| è®¿é—®æµç¨‹ | è®¿é—®ä¸»é¡µâ†’æ·»åŠ Cookieâ†’åˆ·æ–° | æ·»åŠ Cookieâ†’ç›´æ¥è®¿é—®æ¡Œé¢é¡µ | é¿å…ä¸å¿…è¦çš„é¡µé¢è·³è½¬ |
| ç­‰å¾…ç­–ç•¥ | 2ç§’å›ºå®šç­‰å¾… | 5ç§’å……åˆ†ç­‰å¾… | ç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½ |

---

## âœ… æˆåŠŸçš„ç™»å½•ä»£ç å®ç°

### å®Œæ•´çš„ç™»å½•ç±»å®ç°

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
è…¾è®¯æ–‡æ¡£Cookieç™»å½•æˆåŠŸå®ç°
"""

import asyncio
import json
import logging
from pathlib import Path
from playwright.async_api import async_playwright

# é…ç½®æ—¥å¿—
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

class TencentDocLoginSuccess:
    """è…¾è®¯æ–‡æ¡£æˆåŠŸç™»å½•å®ç°ç±»"""
    
    def __init__(self):
        self.browser = None
        self.context = None
        self.page = None
        
    async def start_browser(self, headless=False):
        """å¯åŠ¨æµè§ˆå™¨ - å…³é”®é…ç½®"""
        try:
            playwright = await async_playwright().start()
            
            # å…³é”®æµè§ˆå™¨é…ç½®
            self.browser = await playwright.chromium.launch(
                headless=headless,  # å»ºè®®ä½¿ç”¨Falseä¾¿äºè°ƒè¯•
                args=[
                    '--start-maximized',  # æœ€å¤§åŒ–çª—å£
                    '--no-sandbox',       # é¿å…æ²™ç®±é™åˆ¶
                    '--disable-blink-features=AutomationControlled'  # é¿å…è¢«æ£€æµ‹
                ]
            )
            
            # åˆ›å»ºä¸Šä¸‹æ–‡ - é‡è¦é…ç½®
            self.context = await self.browser.new_context(
                accept_downloads=True,  # å…è®¸ä¸‹è½½
                viewport={'width': 1920, 'height': 1080},  # è®¾ç½®è§†å£å¤§å°
                user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
            )
            
            # åˆ›å»ºé¡µé¢
            self.page = await self.context.new_page()
            logger.info("âœ… æµè§ˆå™¨å¯åŠ¨æˆåŠŸ")
            return True
            
        except Exception as e:
            logger.error(f"âŒ æµè§ˆå™¨å¯åŠ¨å¤±è´¥: {e}")
            return False
    
    def parse_cookies(self, cookie_string):
        """
        è§£æCookieå­—ç¬¦ä¸² - æ ¸å¿ƒæ–¹æ³•
        
        å…³é”®ç‚¹ï¼š
        1. ä½¿ç”¨ '; ' åˆ†å‰²ï¼ˆæ³¨æ„ç©ºæ ¼ï¼‰
        2. åªè®¾ç½® .docs.qq.com åŸŸ
        3. ä¿æŒåŸå§‹å€¼ä¸åšç¼–ç 
        """
        cookies = []
        
        # å…³é”®ï¼šä½¿ç”¨ '; ' è€Œä¸æ˜¯ ';' æ¥æ­£ç¡®åˆ†å‰²
        for cookie_pair in cookie_string.split('; '):
            if '=' in cookie_pair:
                name, value = cookie_pair.strip().split('=', 1)
                cookies.append({
                    'name': name.strip(),
                    'value': value.strip(),
                    'domain': '.docs.qq.com',  # å…³é”®ï¼šåªç”¨è¿™ä¸ªåŸŸ
                    'path': '/'
                })
        
        return cookies
    
    async def login_with_cookies(self, cookie_string):
        """
        ä½¿ç”¨Cookieç™»å½• - æˆåŠŸæµç¨‹
        
        å…³é”®æ­¥éª¤ï¼š
        1. å…ˆæ·»åŠ Cookie
        2. ç›´æ¥è®¿é—®æ¡Œé¢é¡µé¢
        3. å……åˆ†ç­‰å¾…é¡µé¢åŠ è½½
        4. éªŒè¯ç™»å½•çŠ¶æ€
        """
        try:
            logger.info("ğŸ” å¼€å§‹Cookieè®¤è¯...")
            
            # æ­¥éª¤1ï¼šè§£æå¹¶æ·»åŠ Cookie
            cookies = self.parse_cookies(cookie_string)
            await self.context.add_cookies(cookies)
            logger.info(f"âœ… å·²æ·»åŠ  {len(cookies)} ä¸ªCookies")
            
            # æ­¥éª¤2ï¼šç›´æ¥è®¿é—®æ¡Œé¢é¡µé¢ï¼ˆå…³é”®æ”¹è¿›ï¼‰
            # ä¸è¦å…ˆè®¿é—®ä¸»é¡µå†åˆ·æ–°ï¼Œç›´æ¥è®¿é—®æ¡Œé¢
            await self.page.goto(
                'https://docs.qq.com/desktop/',  # ç›´æ¥è®¿é—®æ¡Œé¢
                wait_until='domcontentloaded',
                timeout=30000
            )
            logger.info("ğŸ“„ æ¡Œé¢é¡µé¢åŠ è½½å®Œæˆ")
            
            # æ­¥éª¤3ï¼šå……åˆ†ç­‰å¾…ï¼ˆé‡è¦ï¼‰
            await self.page.wait_for_timeout(5000)
            
            # æ­¥éª¤4ï¼šéªŒè¯ç™»å½•çŠ¶æ€
            is_logged_in = await self.verify_login_status()
            
            if is_logged_in:
                logger.info("âœ… Cookieè®¤è¯æˆåŠŸï¼")
                return True
            else:
                logger.warning("âš ï¸ Cookieå¯èƒ½å·²å¤±æ•ˆ")
                return False
                
        except Exception as e:
            logger.error(f"âŒ Cookieç™»å½•å¤±è´¥: {e}")
            return False
    
    async def verify_login_status(self):
        """
        éªŒè¯ç™»å½•çŠ¶æ€ - å¤šé‡æ£€æŸ¥
        
        æˆåŠŸæ ‡å¿—ï¼š
        1. é¡µé¢æ ‡é¢˜æ­£ç¡®
        2. æ— ç™»å½•æŒ‰é’®
        3. æœ‰å¯¼å…¥æŒ‰é’®
        4. æœ‰ç”¨æˆ·ä¿¡æ¯
        """
        try:
            # æ£€æŸ¥1ï¼šé¡µé¢æ ‡é¢˜
            title = await self.page.title()
            logger.info(f"ğŸ“„ é¡µé¢æ ‡é¢˜: {title}")
            
            # æ£€æŸ¥2ï¼šæ˜¯å¦æœ‰ç™»å½•æŒ‰é’®ï¼ˆä¸åº”è¯¥æœ‰ï¼‰
            login_btn = await self.page.query_selector('button:has-text("ç™»å½•")')
            has_login_btn = login_btn is not None
            
            # æ£€æŸ¥3ï¼šæ˜¯å¦æœ‰å¯¼å…¥æŒ‰é’®ï¼ˆåº”è¯¥æœ‰ï¼‰
            import_btn = await self.page.query_selector('.desktop-import-button-pc')
            has_import_btn = import_btn is not None
            
            # æ£€æŸ¥4ï¼šæ˜¯å¦æœ‰ç”¨æˆ·ä¿¡æ¯
            user_info = await self.page.query_selector('[class*="avatar"], [class*="user"]')
            has_user_info = user_info is not None
            
            # ç»¼åˆåˆ¤æ–­
            logger.info(f"ğŸ” ç™»å½•çŠ¶æ€æ£€æŸ¥:")
            logger.info(f"   - æœ‰ç™»å½•æŒ‰é’®: {has_login_btn} (åº”ä¸ºFalse)")
            logger.info(f"   - æœ‰å¯¼å…¥æŒ‰é’®: {has_import_btn} (åº”ä¸ºTrue)")
            logger.info(f"   - æœ‰ç”¨æˆ·ä¿¡æ¯: {has_user_info} (åº”ä¸ºTrue)")
            
            # æˆåŠŸæ¡ä»¶ï¼šæ²¡æœ‰ç™»å½•æŒ‰é’® ä¸” (æœ‰å¯¼å…¥æŒ‰é’® æˆ– æœ‰ç”¨æˆ·ä¿¡æ¯)
            return not has_login_btn and (has_import_btn or has_user_info)
            
        except Exception as e:
            logger.error(f"âŒ çŠ¶æ€æ£€æŸ¥å¤±è´¥: {e}")
            return False
    
    async def cleanup(self):
        """æ¸…ç†èµ„æº"""
        if self.browser:
            await self.browser.close()
            logger.info("ğŸ”š æµè§ˆå™¨å·²å…³é—­")

# ä½¿ç”¨ç¤ºä¾‹
async def main():
    """ä¸»å‡½æ•° - å®Œæ•´ç™»å½•æµç¨‹"""
    
    # 1. åˆå§‹åŒ–
    login_handler = TencentDocLoginSuccess()
    
    # 2. å¯åŠ¨æµè§ˆå™¨
    success = await login_handler.start_browser(headless=False)
    if not success:
        return
    
    # 3. è¯»å–Cookieé…ç½®
    config_file = Path('config/cookies.json')
    if not config_file.exists():
        logger.error("Cookieé…ç½®æ–‡ä»¶ä¸å­˜åœ¨")
        return
    
    with open(config_file, 'r', encoding='utf-8') as f:
        config = json.load(f)
        cookie_string = config.get('cookie_string', '')
    
    # 4. æ‰§è¡Œç™»å½•
    login_success = await login_handler.login_with_cookies(cookie_string)
    
    if login_success:
        logger.info("ğŸ‰ ç™»å½•æˆåŠŸï¼å¯ä»¥æ‰§è¡Œåç»­æ“ä½œ")
        
        # 5. ç­‰å¾…è§‚å¯Ÿï¼ˆå¯é€‰ï¼‰
        await asyncio.sleep(10)
    else:
        logger.error("ğŸ˜” ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥Cookieæ˜¯å¦æœ‰æ•ˆ")
    
    # 6. æ¸…ç†
    await login_handler.cleanup()

if __name__ == "__main__":
    asyncio.run(main())
```

---

## ğŸ”‘ å…³é”®æˆåŠŸå› ç´ è¯¦è§£

### 1. Cookieå­—ç¬¦ä¸²å¤„ç†çš„ç»†èŠ‚

```python
# âŒ é”™è¯¯ï¼šä¼šå¯¼è‡´Cookieå€¼åŒ…å«å‰å¯¼ç©ºæ ¼
cookie_string.split(';')
# ç»“æœï¼š[' name=value', ' name2=value2']  # æ³¨æ„å‰å¯¼ç©ºæ ¼

# âœ… æ­£ç¡®ï¼šæ­£ç¡®å¤„ç†Cookieä¹‹é—´çš„åˆ†éš”ç¬¦
cookie_string.split('; ')
# ç»“æœï¼š['name=value', 'name2=value2']  # æ²¡æœ‰å‰å¯¼ç©ºæ ¼
```

### 2. CookieåŸŸè®¾ç½®çš„é‡è¦æ€§

```python
# âŒ é”™è¯¯ï¼šä¸ºå¤šä¸ªåŸŸè®¾ç½®ç›¸åŒCookie
for domain in ['.qq.com', '.docs.qq.com']:
    # è¿™ä¼šåˆ›å»ºé‡å¤çš„Cookieï¼Œå¯èƒ½å¯¼è‡´å†²çª

# âœ… æ­£ç¡®ï¼šåªä¸ºå¿…è¦çš„åŸŸè®¾ç½®Cookie
'domain': '.docs.qq.com'  # è¿™ä¸ªåŸŸè¦†ç›–æ‰€æœ‰docs.qq.comçš„å­åŸŸå
```

### 3. é¡µé¢è®¿é—®æµç¨‹ä¼˜åŒ–

```python
# âŒ é”™è¯¯æµç¨‹ï¼šä¸å¿…è¦çš„è·³è½¬
await page.goto('https://docs.qq.com')  # å…ˆè®¿é—®ä¸»é¡µ
await page.reload()  # å†åˆ·æ–°ï¼ˆå¯èƒ½å¯¼è‡´Cookieä¸¢å¤±ï¼‰

# âœ… æ­£ç¡®æµç¨‹ï¼šç›´æ¥è®¿é—®ç›®æ ‡
await context.add_cookies(cookies)  # å…ˆè®¾ç½®Cookie
await page.goto('https://docs.qq.com/desktop/')  # ç›´æ¥è®¿é—®æ¡Œé¢
```

### 4. ç­‰å¾…ç­–ç•¥çš„é‡è¦æ€§

```python
# âŒ ä¸è¶³ï¼šç­‰å¾…æ—¶é—´å¤ªçŸ­
await page.wait_for_timeout(2000)  # 2ç§’å¯èƒ½ä¸å¤Ÿ

# âœ… å……åˆ†ï¼šç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½
await page.wait_for_timeout(5000)  # 5ç§’å……åˆ†ç­‰å¾…
# æˆ–ä½¿ç”¨æ›´æ™ºèƒ½çš„ç­‰å¾…
await page.wait_for_selector('.desktop-import-button-pc', timeout=10000)
```

---

## ğŸ“Š æˆåŠŸéªŒè¯æŒ‡æ ‡

### ç™»å½•æˆåŠŸçš„æ ‡å¿—
1. **é¡µé¢æ ‡é¢˜**ï¼šæ˜¾ç¤º"è…¾è®¯æ–‡æ¡£"è€Œéç™»å½•é¡µ
2. **å…ƒç´ æ£€æŸ¥**ï¼š
   - âŒ ä¸åº”å­˜åœ¨ï¼šç™»å½•æŒ‰é’®
   - âœ… åº”è¯¥å­˜åœ¨ï¼šå¯¼å…¥æŒ‰é’®ã€ç”¨æˆ·å¤´åƒã€æ–‡æ¡£åˆ—è¡¨
3. **ç½‘ç»œè¯·æ±‚**ï¼šAPIè°ƒç”¨è¿”å›ç”¨æˆ·æ•°æ®è€Œéè®¤è¯é”™è¯¯
4. **URLæ£€æŸ¥**ï¼šåœç•™åœ¨desktopé¡µé¢è€Œéè·³è½¬åˆ°ç™»å½•é¡µ

### æµ‹è¯•ç»“æœç¤ºä¾‹
```
âœ… æµè§ˆå™¨å¯åŠ¨æˆåŠŸ
âœ… å·²æ·»åŠ  29 ä¸ªCookies
ğŸ“„ æ¡Œé¢é¡µé¢åŠ è½½å®Œæˆ
ğŸ“„ é¡µé¢æ ‡é¢˜: è…¾è®¯æ–‡æ¡£
ğŸ” ç™»å½•çŠ¶æ€æ£€æŸ¥:
   - æœ‰ç™»å½•æŒ‰é’®: False (åº”ä¸ºFalse)
   - æœ‰å¯¼å…¥æŒ‰é’®: True (åº”ä¸ºTrue)
   - æœ‰ç”¨æˆ·ä¿¡æ¯: True (åº”ä¸ºTrue)
âœ… Cookieè®¤è¯æˆåŠŸï¼
```

---

## ğŸ› ï¸ Cookieè·å–æ–¹æ³•

### æ­¥éª¤è¯¦è§£
1. **æ‰‹åŠ¨ç™»å½•**
   - æ‰“å¼€Chromeæµè§ˆå™¨
   - è®¿é—® https://docs.qq.com
   - ä½¿ç”¨QQ/å¾®ä¿¡å®Œæˆç™»å½•

2. **æå–Cookie**
   - æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ°Networkæ ‡ç­¾
   - åˆ·æ–°é¡µé¢æˆ–æ‰§è¡Œä»»æ„æ“ä½œ
   - æ‰¾åˆ°ä»»æ„ docs.qq.com çš„è¯·æ±‚
   - åœ¨Headersä¸­å¤åˆ¶Cookieå€¼

3. **Cookieæ ¼å¼éªŒè¯**
   å¿…é¡»åŒ…å«çš„å…³é”®å­—æ®µï¼š
   - `uid=` - ç”¨æˆ·ID
   - `DOC_SID=` - æ–‡æ¡£ä¼šè¯ID
   - `SID=` - ä¼šè¯ID
   - `TOK=` - ä»¤ç‰Œ

---

## ğŸš¨ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### é—®é¢˜1ï¼šCookieè¿‡æœŸ
**ç—‡çŠ¶**ï¼šç™»å½•å¤±è´¥ï¼Œé¡µé¢è·³è½¬åˆ°ç™»å½•ç•Œé¢
**è§£å†³**ï¼šé‡æ–°è·å–Cookieï¼ˆCookieé€šå¸¸æœ‰æ•ˆæœŸ7-30å¤©ï¼‰

### é—®é¢˜2ï¼šç¼–ç é—®é¢˜
**ç—‡çŠ¶**ï¼šWindowsä¸‹ä¸­æ–‡æˆ–emojiæ˜¾ç¤ºä¹±ç 
**è§£å†³**ï¼š
```python
# æ–‡ä»¶å¼€å¤´æ·»åŠ 
# -*- coding: utf-8 -*-
# é¿å…ä½¿ç”¨emojiï¼Œä½¿ç”¨æ–‡æœ¬æè¿°
```

### é—®é¢˜3ï¼šé¡µé¢åŠ è½½è¶…æ—¶
**ç—‡çŠ¶**ï¼šTimeout exceededé”™è¯¯
**è§£å†³**ï¼š
- å¢åŠ timeoutå€¼
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ä½¿ç”¨wait_until='domcontentloaded'è€Œé'load'

### é—®é¢˜4ï¼šå…ƒç´ æ‰¾ä¸åˆ°
**ç—‡çŠ¶**ï¼šCannot find elementé”™è¯¯
**è§£å†³**ï¼š
- å¢åŠ ç­‰å¾…æ—¶é—´
- ä½¿ç”¨å¤šä¸ªé€‰æ‹©å™¨å¤‡é€‰
- æ£€æŸ¥é¡µé¢æ˜¯å¦æ­£ç¡®åŠ è½½

---

## ğŸ“ˆ ä¼˜åŒ–å»ºè®®

### 1. Cookieè‡ªåŠ¨æ›´æ–°æœºåˆ¶
```python
async def check_and_update_cookie(self):
    """æ£€æŸ¥Cookieæœ‰æ•ˆæ€§å¹¶è‡ªåŠ¨æ›´æ–°"""
    if not await self.verify_login_status():
        # è§¦å‘æ‰‹åŠ¨ç™»å½•æµç¨‹
        # æˆ–ä»å¤‡ä»½æºè·å–æ–°Cookie
        pass
```

### 2. æ™ºèƒ½ç­‰å¾…ç­–ç•¥
```python
async def smart_wait(self):
    """æ™ºèƒ½ç­‰å¾…é¡µé¢åŠ è½½"""
    try:
        # ç­‰å¾…å…³é”®å…ƒç´ å‡ºç°
        await self.page.wait_for_selector(
            '.desktop-import-button-pc',
            state='visible',
            timeout=10000
        )
    except:
        # é™çº§åˆ°å›ºå®šç­‰å¾…
        await self.page.wait_for_timeout(5000)
```

### 3. é”™è¯¯é‡è¯•æœºåˆ¶
```python
async def login_with_retry(self, max_retries=3):
    """å¸¦é‡è¯•çš„ç™»å½•"""
    for i in range(max_retries):
        if await self.login_with_cookies(cookie_string):
            return True
        await asyncio.sleep(2)
    return False
```

---

## ğŸ¯ æ€»ç»“

### æˆåŠŸçš„å…³é”®è¦ç´ 
1. **æ­£ç¡®çš„Cookieå¤„ç†**ï¼šä½¿ç”¨`'; '`åˆ†å‰²ï¼Œåªè®¾ç½®`.docs.qq.com`åŸŸ
2. **ä¼˜åŒ–çš„è®¿é—®æµç¨‹**ï¼šç›´æ¥è®¿é—®æ¡Œé¢é¡µé¢ï¼Œé¿å…ä¸å¿…è¦çš„è·³è½¬
3. **å……åˆ†çš„ç­‰å¾…æ—¶é—´**ï¼šç»™é¡µé¢è¶³å¤Ÿæ—¶é—´åŠ è½½æ‰€æœ‰å…ƒç´ 
4. **å¤šé‡çŠ¶æ€éªŒè¯**ï¼šé€šè¿‡å¤šä¸ªæŒ‡æ ‡ç»¼åˆåˆ¤æ–­ç™»å½•çŠ¶æ€

### å­¦ä¹ æ–¹æ³•æ€»ç»“
1. **å¯¹æ ‡å­¦ä¹ **ï¼šæ‰¾åˆ°æˆåŠŸçš„ç±»ä¼¼é¡¹ç›®è¿›è¡Œå¯¹æ¯”åˆ†æ
2. **é€æ­¥éªŒè¯**ï¼šæ¯ä¸ªæ”¹è¿›ç‚¹éƒ½å•ç‹¬æµ‹è¯•éªŒè¯
3. **è¯¦ç»†æ—¥å¿—**ï¼šé€šè¿‡æ—¥å¿—å®šä½å…·ä½“é—®é¢˜
4. **æŒç»­ä¼˜åŒ–**ï¼šåŸºäºåé¦ˆä¸æ–­æ”¹è¿›

### åº”ç”¨åœºæ™¯
è¿™å¥—ç™»å½•æ–¹æ¡ˆå¯ä»¥åº”ç”¨äºï¼š
- æ–‡æ¡£æ‰¹é‡ä¸‹è½½
- æ–‡æ¡£è‡ªåŠ¨ä¸Šä¼ 
- å†…å®¹è‡ªåŠ¨åŒ–ç®¡ç†
- æ•°æ®é‡‡é›†ä¸åˆ†æ

---

## ğŸ“ ç»´æŠ¤è¯´æ˜

### Cookieæ›´æ–°å‘¨æœŸ
- å»ºè®®æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡Cookieæœ‰æ•ˆæ€§
- å‘ç°å¤±æ•ˆç«‹å³æ›´æ–°
- å¯ä»¥å‡†å¤‡å¤šå¥—Cookieä½œä¸ºå¤‡ä»½

### ä»£ç ç»´æŠ¤
- å®šæœŸæ£€æŸ¥è…¾è®¯æ–‡æ¡£é¡µé¢ç»“æ„å˜åŒ–
- æ›´æ–°é€‰æ‹©å™¨å’Œå…ƒç´ å®šä½
- ä¿æŒä¸æœ€æ–°Playwrightç‰ˆæœ¬å…¼å®¹

### ç›‘æ§å»ºè®®
- è®°å½•æ¯æ¬¡ç™»å½•çš„æˆåŠŸç‡
- ç›‘æ§Cookieçš„æœ‰æ•ˆæœŸ
- è®¾ç½®å¤±è´¥å‘Šè­¦æœºåˆ¶

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼š1.0  
**æœ€åæ›´æ–°**ï¼š2024-01-09  
**ä½œè€…**ï¼šAIæŠ€æœ¯å›¢é˜Ÿ  
**é€‚ç”¨èŒƒå›´**ï¼šè…¾è®¯æ–‡æ¡£è‡ªåŠ¨åŒ–æ“ä½œ