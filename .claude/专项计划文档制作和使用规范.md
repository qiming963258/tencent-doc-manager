# 📋 专项计划文档制作和使用规范 - Claude AI工作标准

## 🎯 规范目的

本规范定义了所有项目开发中专项计划文档的制作标准、使用方法和更新要求，确保项目管理的一致性和可追溯性。

---

## 📖 专项计划文档制作标准

### 📚 文档结构标准

#### 1. **抬头部分** (必需)
```markdown
# 🎯 [项目名称] - 专项计划文档

## 📋 计划文档格式标准

### 📚 文档版本控制
- **文档版本**: vX.X
- **创建时间**: YYYY-MM-DD
- **最后更新**: YYYY-MM-DD
- **负责人**: [负责人姓名]
- **项目阶段**: [计划/开发/测试/完成]

### 📖 计划文档标准格式说明

#### 🏷️ 状态标识符定义
- ✅ **已完成**: 功能已实现并测试通过
- ❌ **未开始**: 尚未开始的任务  
- ⏳ **进行中**: 正在开发的功能
- 🔄 **需修改**: 需要调整或重构的代码
- ⚠️ **有问题**: 遇到阻碍需要解决
- 📝 **待确认**: 需要进一步讨论确定

#### 📁 文件索引标准格式
📄 **`[文件路径]`** [状态标识]
   └── 行数范围: [具体修改内容描述]
   └── 依赖文件: [相关联的其他文件]
   └── 预计工时: X小时
```

#### 2. **项目概述部分** (必需)
- 🚀 项目目标
- 🔧 核心需求  
- 📊 系统现状分析

#### 3. **详细实施计划部分** (必需)
- 按阶段分组
- 按文件为颗粒度的任务拆分
- 明确的依赖关系和工时预估

#### 4. **进度跟踪部分** (必需)
- 🏗️ 施工进度检查点
- 📈 当前施工状态  
- 🚀 下一步行动计划
- 📝 问题记录和解决方案

---

## 🔧 任务拆分规范

### 📋 文件级颗粒度原则

#### ✅ **正确的任务拆分示例**:
```markdown
📄 **`/production/servers/final_heatmap_server.py`** ❌
   └── 行数范围: 1-50行 (导入模块部分)
   └── 修改内容: 添加sys.path和导入下载器模块
   └── 依赖文件: tencent_export_automation.py
   └── 预计工时: 0.5小时

📄 **`/production/servers/final_heatmap_server.py`** ❌  
   └── 行数范围: 35-100行 (新增API路由)
   └── 修改内容: 添加/api/start-download等路由
   └── 依赖文件: 无
   └── 预计工时: 1小时
```

#### ❌ **错误的任务拆分示例**:
```markdown
- 修改后端API接口 (太笼统，缺乏具体文件信息)
- 优化前端界面 (没有明确的文件范围和修改内容)
```

### 📊 任务分解原则

1. **一个文件的不同部分 = 不同任务**
2. **不同文件的相同功能 = 不同任务**
3. **每个任务必须指定具体文件路径**
4. **每个任务必须指定行数范围**
5. **每个任务必须有明确的修改内容描述**
6. **每个任务必须有预计工时**

---

## 📈 进度更新规范

### 🔄 状态更新要求

#### 1. **实时更新原则**
- 每完成一个文件修改任务，立即更新对应状态标识
- 每开始一个新任务，立即将状态改为⏳进行中
- 遇到问题时，立即标记为⚠️有问题，并在问题记录中说明

#### 2. **状态变更流程**
```
❌ 未开始 → ⏳ 进行中 → ✅ 已完成
               ↓
            ⚠️ 有问题 → 🔄 需修改 → ✅ 已完成
```

#### 3. **进度统计更新**
每次状态变更后，必须更新以下数据：
```markdown
### 🎯 总体进度: X% (X/X个文件修改任务完成)

### 📋 任务分布统计
- ❌ **未开始**: X个任务
- ⏳ **进行中**: X个任务  
- ✅ **已完成**: X个任务
- ⚠️ **有问题**: X个任务
```

---

## 🏗️ 检查点验收标准

### 🔍 检查点设置规范

#### 1. **检查点命名标准**
```markdown
### 🔍 检查点[N]: [阶段名称]完成
- **验收标准**: 
  - ✅ [具体验收条件1]
  - ✅ [具体验收条件2]
- **测试方法**: [具体测试方式]
- **完成时间**: [预计时间]
- **当前状态**: [❌/⏳/✅]
```

#### 2. **验收标准要求**
- 每个检查点必须有3-5个具体的验收条件
- 验收条件必须是可测试、可验证的
- 必须指定明确的测试方法
- 必须设定预期完成时间

---

## 📝 问题记录和风险管理

### 🚨 问题记录标准

#### 1. **问题分类**
```markdown
### 📋 当前问题清单
- ⚠️ **[问题类型]**: [问题描述]
  └── 发生时间: YYYY-MM-DD HH:MM
  └── 影响范围: [具体影响的文件或功能]
  └── 解决方案: [预计解决方案]
  └── 负责人: [处理人]
```

#### 2. **风险预警机制**
```markdown
### 📋 风险预警
- ⚠️ **[风险类型]**: [风险描述]
  └── 风险等级: [高/中/低]
  └── 发生概率: [高/中/低]
  └── 预防措施: [具体措施]
```

---

## 🎯 使用规范强制要求

### ✅ **必须遵守的规则**

1. **📁 文档存放位置**: 所有专项计划文档必须存放在 `/docs/plans/` 目录
2. **📝 文档命名规范**: `[项目功能描述]计划.md`
3. **🔄 实时更新要求**: 每次工作结束前必须更新计划文档状态
4. **📊 进度统计要求**: 每次状态变更必须重新计算并更新进度百分比
5. **🔍 检查点验收**: 每个检查点必须通过验收才能进入下一阶段

### ❌ **严禁的行为**

1. **❌ 批量状态更新**: 禁止一次性更新多个任务状态，必须逐个更新
2. **❌ 模糊任务描述**: 禁止使用"优化代码"、"修复bug"等模糊描述
3. **❌ 跳过检查点**: 禁止不通过检查点验收就进入下一阶段
4. **❌ 过期计划**: 禁止使用超过7天未更新的计划文档

---

## 🎨 文档模板

### 📋 标准模板文件
创建新的专项计划时，必须使用以下模板结构：

```markdown
# 🎯 [项目名称] - 专项计划文档

## 📋 计划文档格式标准
[按照上述格式标准填写]

## 🎯 项目概述
[项目目标、核心需求、系统现状]

## 🔧 详细实施计划
[按阶段、按文件拆分的具体任务]

## 🏗️ 施工进度检查点
[4-6个验收检查点]

## 📈 当前施工状态
[实时进度统计和任务分布]

## 🚀 下一步行动计划
[近期、中期、最终目标]

## 📝 问题记录和解决方案
[问题清单、已解决问题、风险预警]

## 📊 工作量统计
[预估工时和完成时间]
```

---

## 📚 参考示例

### 🎯 标准示例文档
- **参考文档**: `/docs/plans/8089端口UI自动下载功能集成计划.md`
- **示例特点**: 完整的格式标准、详细的任务拆分、清晰的进度跟踪

---

## ⚠️ 执行监督

### 🔍 质量检查要求
每次提交代码前，必须检查：
1. 专项计划文档是否已更新
2. 对应任务状态是否正确标记
3. 进度统计是否准确计算
4. 下一步计划是否明确

### 📊 审查频率
- **日常检查**: 每次工作结束前
- **周期审查**: 每个检查点通过时
- **项目总结**: 项目完成后归档审查

---

*📝 本规范为强制执行标准，所有项目开发必须严格遵守*